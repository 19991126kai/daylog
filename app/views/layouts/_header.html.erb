<header class="sticky top-0 z-[999] w-full text-white bg-blue-900 shadow">
  <div class="container mx-auto flex flex-col md:flex-row p-4 items-center">
    <%= link_to "Daylog", root_path, class: "font-medium text-3xl" %>
    <% if current_user %>
      <nav class="mr-auto ml-5 pl-5 border-l border-white">
        <%= link_to "タイマー", timer_path, class: "mr-5 hover:text-gray-300" %>
        <%= link_to "カテゴリ設定", categories_path, class: "mr-5 hover:text-gray-300" %>
        <%= link_to "学習履歴", logs_path, class: "mr-5 hover:text-gray-300" %>
        <%= link_to "シェア", share_path, class: "mr-5 hover:text-gray-300" %>
      </nav>

      <div class="account-menu relative group flex items-center hover:text-gray-300">
        <span class="material-symbols-outlined text-[36px] leading-none">
          account_circle
        </span>
        <svg viewBox="0 0 20 20" aria-hidden="true" class="-mr-1 size-5 text-gray-300">
          <path d="M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z" fill-rule="evenodd" clip-rule="evenodd" />
        </svg>

        <div class="absolute top-10 right-0 min-w-40 rounded-md bg-white text-black shadow-lg ring-1 ring-black/10 hidden group-hover:block z-[1000]">
          <div class="px-4 py-3 text-sm border-b text-gray-500">
            <% if user_signed_in? %>
              <div><%= current_user.email %></div>
            <% end %>
          </div>
          <div class="py-2">
            <%= link_to "アカウント設定", edit_user_registration_path, class: "block px-4 py-2 text-sm hover:bg-gray-100" %>
            <%= link_to "ログアウト", destroy_user_session_path, data: { turbo_method: :delete }, class: "block px-4 py-2 text-sm text-red-600 hover:bg-gray-100" %>
          </div>
        </div>
      </div>
    <% else %>
      <%# ログインボタン周り %>
      <div class="flex flex-wrap gap-4 w-full mt-4 justify-center md:w-auto md:ml-auto md:justify-end md:mt-0">
        <%= link_to "ログイン", new_user_session_path,
            class: "bg-white text-blue-900 text-sm md:text-base font-semibold py-2 px-3 rounded hover:bg-gray-200 transition inline-flex items-center justify-center gap-2" %>
        <%= link_to "新規登録", new_user_registration_path,
            class: "bg-gray-100 text-blue-900 text-sm md:text-base font-semibold py-2 px-3 rounded hover:bg-gray-300 transition inline-flex items-center justify-center gap-2" %>
        <%= link_to "ゲストログイン", guest_sign_in_path, data: {turbo_method: :post},
            class: "border border-white text-white text-sm md:text-base font-semibold py-2 px-3 rounded hover:bg-white hover:text-blue-900 transition inline-flex items-center justify-center gap-2" %>
      </div>
    <% end %>
  </div>
</header>
