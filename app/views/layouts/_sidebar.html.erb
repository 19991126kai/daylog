<div class="flex min-h-full flex-col">
  <!-- ロゴ -->
  <div class="items-center gap-2 px-4 py-4 border-b border-white/20">
    <%= link_to "Daylog", root_path, class: "text-2xl font-semibold hover:text-gray-200" %>
  </div>

  <% if current_user %>
    <!-- ナビゲーション -->
    <nav class="flex flex-col p-3 gap-1">
      <%= nav_link_to "タイマー", timer_path, match: :exact %>
      <%= nav_link_to "カテゴリ設定", categories_path, match: :prefix %>
      <%= nav_link_to "学習履歴", logs_path, match: :prefix %>
      <%= nav_link_to "シェア", share_path, match: :exact %>
    </nav>

    <!-- アカウント周り -->
    <div class="mt-auto px-2 py-6 border-t border-white/20">
      <div class="mb-2 flex items-center gap-2 text-sm text-gray-200">
        <span class="material-symbols-outlined text-3xl">account_circle</span>
        <div class="truncate">
          <div class="text-xs text-gray-400">ログイン中</div>
          <div class="truncate"><%= current_user.email %></div>
        </div>
      </div>

      <div class="space-y-1">
        <%= nav_link_to "アカウント設定", edit_user_registration_path, match: :exact %>

        <%= link_to "ログアウト", destroy_user_session_path,
              data: { turbo_method: :delete },
              class: "block rounded-md px-3 py-2 hover:bg-white/10" %>
      </div>
    </div>
  <% else %>
    <!-- 未ログイン時のボタン -->
    <div class="flex-1 px-2 py-3">
      <div class="space-y-2">
        <%= link_to "ログイン", new_user_session_path,
              class: "block w-full rounded-md bg-white text-blue-900 px-3 py-2 text-center font-semibold hover:bg-gray-200" %>

        <%= link_to "新規登録", new_user_registration_path,
              class: "block w-full rounded-md bg-gray-100 text-blue-900 px-3 py-2 text-center font-semibold hover:bg-gray-300" %>

        <%= link_to "ゲストログイン", guest_sign_in_path,
              data: { turbo_method: :post },
              class: "block w-full rounded-md border border-white px-3 py-2 text-center font-semibold hover:bg-white hover:text-blue-900 transition" %>
      </div>
    </div>
  <% end %>
</div>